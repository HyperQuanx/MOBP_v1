<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>쿠키</h1>
      <ol>
        <li>
          클라이언트의 상태 정보를 유지하기 위한 기술 -> HTTP 프로토콜의 특징(비
          연결 지향형 서비스이기 때문)
        </li>
        <li>클라이언트의 사용 정보를 PC에 저장하기 위한 기술</li>
        <li>주로 클라이언트에 key/value 형태로 저장</li>
        <li>
          RFC6265 규약에 정의
          <ul>
            <li>최대 3000까지 생성 가능</li>
            <li>쿠키 하나의 최대 사이즈 : 4096 바이트</li>
            <li>하나의 호스트나 도메인에서 최대 50개 까지 생성 가능</li>
          </ul>
        </li>
        <li>쿠키당 대략 1.2Mb 정도까지 저장 가능</li>
      </ol>
      <h2>기본 동작</h2>
      <ol>
        <li>클라이언트 -> 서버에 요청(첫 방문)</li>
        <li>서버 쿠키 생성 전달(HTTP 응답 헤더값)</li>
        <li>클라이언트 -> 쿠키를 로컬에 저장(브라우저)</li>
        <li>클라이언트 -> 서버에 요청(쿠키를 HTTP 요청 헤더값)</li>
        <li>서버는 쿠키를 읽어 필요한 작업을 진행</li>
      </ol>

      <br />
      <br />

      <h3>쿠키를 구성하는 속성</h3>
      <table border="1">
        <tr>
          <th>구분</th>
          <th>set 메서드</th>
          <th>get 메서드</th>
        </tr>
        <tr>
          <td>이름(쿠키명)</td>
          <td>없음</td>
          <td>String getName()</td>
        </tr>
        <tr>
          <td>값(쿠키값)</td>
          <td>void setValue(String Value)</td>
          <td>String getValue()</td>
        </tr>
        <tr>
          <td>경로</td>
          <td>void setPath(String path)</td>
          <td>String getPath()</td>
        </tr>
        <tr>
          <td>유지시간(초단위)</td>
          <td>void setMaxAge(int second)</td>
          <td>int getMaxAge()</td>
        </tr>
        <tr>
          <td>도메인</td>
          <td>void setDomain(String domain)</td>
          <td>String getDomain()</td>
        </tr>
      </table>

      <br />

      <p>
        - set 메서드는 생성, get 메서드는 조회 <br />
        - 쿠키의 이름은 생성자를 통해서만 생성 가능<br />
        - 쿠키의 이름은 변경 불가<br />
        - response.addCookie 로 저장
      </p>

      <br />

      <p>현재 도메인에서만 접근 가능하도록 제한</p>

      <ol>
        <li>test.com(부모도메인)</li>
        <li>www.test.com</li>
        <li>api.test.com</li>
        <li>member.test.com</li>
      </ol>
      <p>1, 2, 3, 4 다 다른 도메인</p>
    </div>

    <h2>쿠키 정리</h2>
    <ul>
      <li>쿠키는 클라이언트의 상태정보를 저장하는 기술</li>
      <li>
        팝업창 제어, 로그인 아이디 저장, 자동 로그인, 쇼핑몰의 최근 본 상품 목록
      </li>
      <li>쿠키는 생성자를 통해서만 생성할 수 있음</li>
      <li>생성 후 쿠키 값은 변경 가능, 쿠키 명 변경은 불가능</li>
      <li>setPath() : 저장 경로 지정 - / <--(root)</li>
      <li>
        setMaxAge() : 유지 시간 설정 - 초단위 - 값을 바꿔도 적용되지 않는다. ->
        add 시점 적용됨
      </li>
      <li>response.addCookie() 로 저장</li>
      <li>
        생성 직후 바로 사용 불가 -> 페이지 이동 or 새로고침 or 사용자가 다시
        재요청 했을 때 사용 가능
      </li>
    </ul>
  </body>
</html>
